{
   "config" : {
      "title" : "School Data",
      "subtitle" : "heplots - schooldata",
      "graphType" : "Heatmap"
   },
   "info" : "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=yes\" />\n<script type=\"text/javascript\">\nconst macros = { \"\\\\R\": \"\\\\textsf{R}\", \"\\\\code\": \"\\\\texttt\"};\nfunction processMathHTML() {\n    var l = document.getElementsByClassName('reqn');\n    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }\n    return;\n}</script>\n<script defer src=\"https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js\"\n    onload=\"processMathHTML();\"></script>\n<table style=\"width: 100%;\"><tr><td>schooldata</td><td style=\"text-align: right;\">R Documentation</td></tr></table>\n<h2>School Data</h2>\n<h3>Description</h3>\n<p>School Data, from Charnes et al. (1981). The aim is to explain scores on 3\ndifferent tests, <code>reading</code>, <code>mathematics</code> and <code>selfesteem</code>\nfrom 70 school sites by means of 5 explanatory variables related to parents\nand teachers.\n</p>\n<h3>Format</h3>\n<p>A data frame with 70 observations on the following 8 variables.\n</p>\n<dl>\n<dt><code>education</code></dt><dd><p>Education level of mother as measured in\nterms of percentage of high school graduates among female parents</p>\n</dd>\n<dt><code>occupation</code></dt><dd><p> Highest occupation of a family member according\nto a pre-arranged rating scale</p>\n</dd> \n<dt><code>visit</code></dt><dd><p> Parental visits index\nrepresenting the number of visits to the school site</p>\n</dd>\n<dt><code>counseling</code></dt><dd><p> Parent counseling index calculated from data on\ntime spent with child on school-related topics such as reading together, etc.</p>\n</dd> \n<dt><code>teacher</code></dt><dd><p> Number of teachers at a given site</p>\n</dd>\n<dt><code>reading</code></dt><dd><p> Reading score as measured by the Metropolitan Achievement Test</p>\n</dd> \n<dt><code>mathematics</code></dt><dd><p>Mathematics score as measured by the Metropolitan Achievement Test</p>\n</dd> \n<dt><code>selfesteem</code></dt><dd><p>Coopersmith Self-Esteem Inventory, intended as a measure of self-esteem</p>\n</dd> \n</dl>\n<h3>Details</h3>\n<p>This dataset was shamelessly borrowed from the <code>FRB</code> package.\n</p>\n<p>The relationships among these variables are unusual, a fact only revealed by\nplotting.\n</p>\n<h3>Source</h3>\n<p>A. Charnes, W.W. Cooper and E. Rhodes (1981). Evaluating Program and\nManagerial Efficiency: An Application of Data Envelopment Analysis to\nProgram Follow Through. <em>Management Science</em>, <b>27</b>, 668-697.\n</p>\n<h3>Examples</h3>\n<pre><code class='language-R'>\ndata(schooldata)\n# initial screening\nplot(schooldata)\n# better plot\nlibrary(corrgram)\ncorrgram(schooldata, \n         lower.panel=panel.ellipse, \n         upper.panel=panel.pts)\n#fit the MMreg model\nschool.mod &lt;- lm(cbind(reading, mathematics, selfesteem) ~ \n\t\t             education + occupation + visit + counseling + teacher, data=schooldata)\n# shorthand: fit all others\nschool.mod &lt;- lm(cbind(reading, mathematics, selfesteem) ~ ., data=schooldata)\ncar::Anova(school.mod)\n# HE plots\nheplot(school.mod, fill=TRUE, fill.alpha=0.1)\npairs(school.mod, fill=TRUE, fill.alpha=0.1)\n# robust model, using robmlm()\nschool.rmod &lt;- robmlm(cbind(reading, mathematics, selfesteem) ~ ., data=schooldata)\n# note that counseling is now significant\ncar::Anova(school.rmod)\n# Index plot of the weights\nwts &lt;- school.rmod$weights\nnotable &lt;- which(wts &lt; 0.8)\nplot(wts, type = \"h\", col=\"gray\", ylab = \"Observation weight\")\npoints(1:length(wts), wts, \n       pch=16,\n       col = ifelse(wts &lt; 0.8, \"red\", \"black\"))\ntext(notable, wts[notable],\n     labels = notable,\n     pos = 3,\n     col = \"red\")\n# compare classical HE plot with that based on the robust model\nheplot(school.mod, cex=1.4, lty=1, fill=TRUE, fill.alpha=0.1)\nheplot(school.rmod, \n       add=TRUE, \n       error.ellipse=TRUE, \n       lwd=c(2,2), lty=c(2,2), \n\t     term.labels=FALSE, err.label=\"\", \n\t     fill=TRUE)\n</code></pre>\n</main>\n</div>\n",
   "data" : {
      "y" : {
         "smps" : [
            "Smp1",
            "Smp2",
            "Smp3",
            "Smp4",
            "Smp5",
            "Smp6",
            "Smp7",
            "Smp8",
            "Smp9",
            "Smp10",
            "Smp11",
            "Smp12",
            "Smp13",
            "Smp14",
            "Smp15",
            "Smp16",
            "Smp17",
            "Smp18",
            "Smp19",
            "Smp20",
            "Smp21",
            "Smp22",
            "Smp23",
            "Smp24",
            "Smp25",
            "Smp26",
            "Smp27",
            "Smp28",
            "Smp29",
            "Smp30",
            "Smp31",
            "Smp32",
            "Smp33",
            "Smp34",
            "Smp35",
            "Smp36",
            "Smp37",
            "Smp38",
            "Smp39",
            "Smp40",
            "Smp41",
            "Smp42",
            "Smp43",
            "Smp44",
            "Smp45",
            "Smp46",
            "Smp47",
            "Smp48",
            "Smp49",
            "Smp50",
            "Smp51",
            "Smp52",
            "Smp53",
            "Smp54",
            "Smp55",
            "Smp56",
            "Smp57",
            "Smp58",
            "Smp59",
            "Smp60",
            "Smp61",
            "Smp62",
            "Smp63",
            "Smp64",
            "Smp65",
            "Smp66",
            "Smp67",
            "Smp68",
            "Smp69",
            "Smp70"
         ],
         "data" : [
            [
               86.13,
               29.26,
               43.12,
               24.96,
               11.62,
               11.88,
               32.64,
               20.79,
               34.4,
               61.74,
               52.92,
               36,
               39.2,
               14.6,
               4.29,
               27.25,
               22.63,
               28,
               53.56,
               25.42,
               31.57,
               16.34,
               44.28,
               19.74,
               24.4,
               41.4,
               27.2,
               23.92,
               10.62,
               12.48,
               19.32,
               6.3,
               46.62,
               38.95,
               61.6,
               31.08,
               19.35,
               11.2,
               34.4,
               35.55,
               30.53,
               25.44,
               26.66,
               39.79,
               8.32,
               59.78,
               39.22,
               3.24,
               7.14,
               68.16,
               11.88,
               55.3,
               16.2,
               82.45,
               15.81,
               4.65,
               41.25,
               10.44,
               139.65,
               16.28,
               12.06,
               4.2,
               19.44,
               28.38,
               13.5,
               23.32,
               27.6,
               11.7,
               4.68,
               10.44
            ],
            [
               16.24,
               10.24,
               11.31,
               6.14,
               2.21,
               4.97,
               6.88,
               12.97,
               11.04,
               14.5,
               11.67,
               10.15,
               10.8,
               2.88,
               5.42,
               14.17,
               4.43,
               7.61,
               13.7,
               9.05,
               10.08,
               5.84,
               14.14,
               6.43,
               8.05,
               11.7,
               9.38,
               7.12,
               2.55,
               6.14,
               5.89,
               1.93,
               14.65,
               12.82,
               15.56,
               6.26,
               6.68,
               3.08,
               11.61,
               6.48,
               9.3,
               7.1,
               11.43,
               22.49,
               3.64,
               13.52,
               10.06,
               3.18,
               5.29,
               12.28,
               3.59,
               11.53,
               7.02,
               15.52,
               6.93,
               5.5,
               8.41,
               5.22,
               35.03,
               4.81,
               2.59,
               2.64,
               3.83,
               8.91,
               3.61,
               7.1,
               9.38,
               10.53,
               1.85,
               4.82
            ],
            [
               48.21,
               41.96,
               38.19,
               24.81,
               6.85,
               18.73,
               28.1,
               54.85,
               38.16,
               49.09,
               39.48,
               37.8,
               41.04,
               9.64,
               21.45,
               56.46,
               15.4,
               28.73,
               53.04,
               29.69,
               39.34,
               20.89,
               56.7,
               24.2,
               33.42,
               44.01,
               37.8,
               25.58,
               10.1,
               23.13,
               24.01,
               7.11,
               65.71,
               47.02,
               53.98,
               22.18,
               22.61,
               9.9,
               41.79,
               21.69,
               35.5,
               26.81,
               41.36,
               84.77,
               12.92,
               48.8,
               37,
               13.12,
               23.1,
               33.58,
               13.41,
               36.73,
               26.94,
               45,
               23.91,
               20.91,
               26.23,
               17.1,
               119.56,
               18.2,
               8.74,
               9.89,
               12.87,
               30.95,
               15.6,
               24.96,
               32.29,
               37.67,
               6.22,
               17.13
            ],
            [
               49.69,
               40.65,
               35.03,
               25.15,
               6.37,
               18.04,
               25.45,
               52.07,
               42.4,
               42.92,
               39.64,
               39.52,
               41.12,
               11.14,
               17.27,
               55.26,
               15,
               27.04,
               49.85,
               31.74,
               40.57,
               22.1,
               52.27,
               25.66,
               31.29,
               46.35,
               31.55,
               29.01,
               9.09,
               22.46,
               24.74,
               7.68,
               57.49,
               48.92,
               50.29,
               21.96,
               23.31,
               10.06,
               41.79,
               21.69,
               35.14,
               26.23,
               44.63,
               76.12,
               13.13,
               49.69,
               38.33,
               12.71,
               19.06,
               34.64,
               13.82,
               35.78,
               26.3,
               44.23,
               23.61,
               23.39,
               25.24,
               18.93,
               130.83,
               18.98,
               8.17,
               11.25,
               13.23,
               33.33,
               12.39,
               28.56,
               34.01,
               43.6,
               5.46,
               18.21
            ],
            [
               9,
               5,
               9,
               7,
               4,
               4,
               7,
               8,
               8,
               9,
               5,
               5,
               7,
               3,
               5,
               9,
               2,
               9,
               7,
               4,
               6,
               4,
               11,
               3,
               7,
               7,
               4,
               3,
               4,
               6,
               6,
               4,
               10,
               9,
               6,
               4,
               4,
               2,
               5,
               6,
               8,
               3,
               6,
               11,
               2,
               15,
               4,
               5,
               8,
               15,
               8,
               6,
               9,
               13,
               7,
               5,
               10,
               3,
               22,
               5,
               5,
               2,
               5,
               8,
               4,
               22,
               20,
               8,
               5,
               9
            ],
            [
               54.53,
               24.69,
               36.41,
               14.94,
               7.81,
               12.59,
               17.06,
               20.29,
               26.13,
               46.42,
               39.8,
               37.84,
               26.48,
               10.31,
               14.39,
               32.94,
               17.25,
               27.55,
               41.12,
               29.43,
               37.46,
               19.4,
               39.88,
               25.72,
               24.88,
               31.62,
               31.31,
               21,
               6.51,
               11.64,
               12.58,
               4.59,
               43.76,
               32.38,
               34.64,
               11.52,
               15.96,
               9.91,
               30.44,
               22.63,
               24.41,
               23.11,
               21.82,
               63.92,
               9.47,
               33.94,
               29.42,
               7.7,
               12.17,
               39.07,
               9.96,
               45.37,
               18.23,
               59.63,
               24.2,
               13.53,
               28.39,
               21.67,
               120.17,
               15.15,
               6.92,
               9.35,
               13.03,
               18.63,
               12.28,
               16.81,
               26.36,
               22.85,
               8.17,
               13.69
            ],
            [
               58.98,
               33.89,
               40.62,
               17.58,
               6.94,
               16.85,
               16.99,
               30.64,
               29.8,
               51.59,
               37.73,
               47.85,
               31.36,
               10.86,
               18.3,
               36.03,
               20.8,
               38.19,
               43.8,
               42.63,
               51.02,
               25.18,
               47.72,
               30.81,
               25.27,
               40.78,
               38.32,
               21.3,
               7.02,
               15.26,
               15.9,
               6.16,
               46.64,
               38.55,
               45.46,
               15.14,
               19.21,
               12.3,
               33.53,
               25.24,
               27.16,
               22.67,
               31.45,
               79.67,
               11.92,
               39.18,
               35.1,
               11.02,
               16.03,
               42.71,
               14.34,
               51.38,
               22.05,
               64.41,
               28.21,
               17.09,
               27.65,
               26.22,
               144.67,
               18.04,
               7.1,
               9.85,
               13.4,
               24.48,
               13.01,
               19.72,
               28.22,
               26.21,
               8.7,
               14.19
            ],
            [
               38.16,
               26.02,
               28.51,
               16.19,
               5.37,
               12.84,
               17.82,
               33.16,
               26.29,
               35.2,
               30.29,
               25.35,
               26.54,
               7.47,
               14.33,
               38.19,
               12.07,
               20.44,
               36.54,
               23.34,
               27.44,
               16.52,
               38.97,
               16.54,
               22.43,
               31.16,
               25.03,
               18.3,
               6.16,
               15.68,
               14.42,
               4.99,
               39.1,
               31.05,
               39.22,
               13.91,
               15.3,
               7.22,
               29.8,
               17.15,
               25.3,
               17.56,
               27.54,
               63.11,
               8.85,
               34.61,
               28.42,
               9.02,
               15.82,
               27.67,
               9.33,
               31.61,
               17.56,
               35.89,
               18.74,
               15.61,
               20.79,
               13.66,
               88.59,
               13.58,
               6.35,
               7.7,
               10.29,
               23.13,
               9.89,
               18.7,
               24.46,
               28.14,
               5.12,
               12.99
            ]
         ],
         "vars" : [
            "education",
            "occupation",
            "visit",
            "counseling",
            "teacher",
            "reading",
            "mathematics",
            "selfesteem"
         ]
      }
   }
}
