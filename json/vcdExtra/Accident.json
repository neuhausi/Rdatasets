{
   "info" : "<meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0, user-scalable=yes\" />\n<script type=\"text/javascript\">\nconst macros = { \"\\\\R\": \"\\\\textsf{R}\", \"\\\\code\": \"\\\\texttt\"};\nfunction processMathHTML() {\n    var l = document.getElementsByClassName('reqn');\n    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }\n    return;\n}</script>\n<script defer src=\"https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js\"\n    onload=\"processMathHTML();\"></script>\n<table style=\"width: 100%;\"><tr><td>Accident</td><td style=\"text-align: right;\">R Documentation</td></tr></table>\n<h2>\nTraffic Accident Victims in France in 1958\n</h2>\n<h3>Description</h3>\n<p>Bertin (1983) used these data to illustrate the cross-classification of \ndata by numerous variables, each of which could have various types\nand could be assigned to various visual attributes.  \n</p>\n<p>For modeling and visualization purposes, the data can be treated as a\n4-way table using loglinear models and mosaic displays, or as a \nfrequency-weighted data frame using a binomial response for\n<code>result</code> (<code>\"Died\"</code> vs. <code>\"Injured\"</code>) and plots of\npredicted probabilities.\n</p>\n<h3>Usage</h3>\n<pre><code class='language-R'>data(Accident)</code></pre>\n<h3>Format</h3>\n<p>A data frame in frequency form (comprising a 5 x 2 x 4 x 2 table)\nwith 80 observations on the following 5 variables.\n</p>\n<dl>\n<dt><code>age</code></dt><dd><p>an ordered factor with levels <code>0-9</code> &lt; <code>10-19</code> &lt; <code>20-29</code> &lt; <code>30-49</code> &lt; <code>50+</code></p>\n</dd>\n<dt><code>result</code></dt><dd><p>a factor with levels <code>Died</code> <code>Injured</code></p>\n</dd>\n<dt><code>mode</code></dt><dd><p>mode of transportation,\na factor with levels <code>4-Wheeled</code> <code>Bicycle</code> <code>Motorcycle</code> <code>Pedestrian</code></p>\n</dd>\n<dt><code>gender</code></dt><dd><p>a factor with levels <code>Female</code> <code>Male</code></p>\n</dd>\n<dt><code>Freq</code></dt><dd><p>a numeric vector</p>\n</dd>\n</dl>\n<h3>Details</h3>\n<p><code>age</code> is an ordered factor, but arguably, <code>mode</code> should be treated as ordered, with levels\n<code>Pedestrian</code> &lt; <code>Bicycle</code> &lt; <code>Motorcycle</code> &lt; <code>4-Wheeled</code> \nas Bertin does.  This affects the parameterization in models, so we don't do this directly in the\ndata frame.\n</p>\n<h3>Source</h3>\n<p>Bertin (1983), p. 30; original data from the Ministere des Travaux Publics\n</p>\n<h3>References</h3>\n<p>Bertin, J. (1983),  <em>Semiology of Graphics</em>, University of Wisconsin Press.\n</p>\n<h3>Examples</h3>\n<pre><code class='language-R'># examples\ndata(Accident)\nhead(Accident)\n# for graphs, reorder mode\nAccident$mode &lt;- ordered(Accident$mode,\n   levels=levels(Accident$mode)[c(4,2,3,1)])\n# Bertin's table\naccident_tab &lt;- xtabs(Freq ~ gender + mode + age + result, data=Accident)\nstructable(mode + gender ~ age + result, data=accident_tab)\n## Loglinear models\n# mutual independence\nacc.mod0 &lt;- glm(Freq ~ age + result + mode + gender, \n                data=Accident, \n                family=poisson)\nLRstats(acc.mod0)\nmosaic(acc.mod0, ~mode + age + gender + result)\n# result as a response\nacc.mod1 &lt;- glm(Freq ~ age*mode*gender + result, \n                data=Accident, \n                family=poisson)\nLRstats(acc.mod1)\nmosaic(acc.mod1, ~mode + age + gender + result, \n    labeling_args = list(abbreviate = c(gender=1, result=4)))\n# allow two-way association of result with each explanatory variable\nacc.mod2 &lt;- glm(Freq ~ age*mode*gender + result*(age+mode+gender), \n                data=Accident, \n                family=poisson)\nLRstats(acc.mod2)\nmosaic(acc.mod2, ~mode + age + gender + result, \n    labeling_args = list(abbreviate = c(gender=1, result=4)))\nacc.mods &lt;- glmlist(acc.mod0, acc.mod1, acc.mod2)\nLRstats(acc.mods)\n## Binomial (logistic regression) models for result\nlibrary(car)  # for Anova()\nacc.bin1 &lt;- glm(result=='Died' ~ age + mode + gender, \n    weights=Freq, data=Accident, family=binomial)\nAnova(acc.bin1)\nacc.bin2 &lt;- glm(result=='Died' ~ (age + mode + gender)^2, \n    weights=Freq, data=Accident, family=binomial)\nAnova(acc.bin2)\nacc.bin3 &lt;- glm(result=='Died' ~ (age + mode + gender)^3, \n    weights=Freq, data=Accident, family=binomial)\nAnova(acc.bin3)\n# compare models\nanova(acc.bin1, acc.bin2, acc.bin3, test=\"Chisq\")\n# visualize probability of death with effect plots\n## Not run: \nlibrary(effects)\nplot(allEffects(acc.bin1), ylab='Pr (Died)')\nplot(allEffects(acc.bin2), ylab='Pr (Died)')\n## End(Not run)\n#</code></pre>\n</main>\n</div>\n",
   "data" : {
      "x" : {
         "age" : [
            "50+",
            "50+",
            "50+",
            "50+",
            "50+",
            "50+",
            "50+",
            "50+",
            "50+",
            "50+",
            "50+",
            "50+",
            "50+",
            "50+",
            "50+",
            "50+",
            "30-49",
            "30-49",
            "30-49",
            "30-49",
            "30-49",
            "30-49",
            "30-49",
            "30-49",
            "30-49",
            "30-49",
            "30-49",
            "30-49",
            "30-49",
            "30-49",
            "30-49",
            "30-49",
            "20-29",
            "20-29",
            "20-29",
            "20-29",
            "20-29",
            "20-29",
            "20-29",
            "20-29",
            "20-29",
            "20-29",
            "20-29",
            "20-29",
            "20-29",
            "20-29",
            "20-29",
            "20-29",
            "10-19",
            "10-19",
            "10-19",
            "10-19",
            "10-19",
            "10-19",
            "10-19",
            "10-19",
            "10-19",
            "10-19",
            "10-19",
            "10-19",
            "10-19",
            "10-19",
            "10-19",
            "10-19",
            "0-9",
            "0-9",
            "0-9",
            "0-9",
            "0-9",
            "0-9",
            "0-9",
            "0-9",
            "0-9",
            "0-9",
            "0-9",
            "0-9",
            "0-9",
            "0-9",
            "0-9",
            "0-9"
         ],
         "result" : [
            "Died",
            "Died",
            "Died",
            "Died",
            "Died",
            "Died",
            "Died",
            "Died",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Died",
            "Died",
            "Died",
            "Died",
            "Died",
            "Died",
            "Died",
            "Died",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Died",
            "Died",
            "Died",
            "Died",
            "Died",
            "Died",
            "Died",
            "Died",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Died",
            "Died",
            "Died",
            "Died",
            "Died",
            "Died",
            "Died",
            "Died",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Died",
            "Died",
            "Died",
            "Died",
            "Died",
            "Died",
            "Died",
            "Died",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Injured",
            "Injured"
         ],
         "mode" : [
            "Pedestrian",
            "Pedestrian",
            "Bicycle",
            "Bicycle",
            "Motorcycle",
            "Motorcycle",
            "4-Wheeled",
            "4-Wheeled",
            "Pedestrian",
            "Pedestrian",
            "Bicycle",
            "Bicycle",
            "Motorcycle",
            "Motorcycle",
            "4-Wheeled",
            "4-Wheeled",
            "Pedestrian",
            "Pedestrian",
            "Bicycle",
            "Bicycle",
            "Motorcycle",
            "Motorcycle",
            "4-Wheeled",
            "4-Wheeled",
            "Pedestrian",
            "Pedestrian",
            "Bicycle",
            "Bicycle",
            "Motorcycle",
            "Motorcycle",
            "4-Wheeled",
            "4-Wheeled",
            "Pedestrian",
            "Pedestrian",
            "Bicycle",
            "Bicycle",
            "Motorcycle",
            "Motorcycle",
            "4-Wheeled",
            "4-Wheeled",
            "Pedestrian",
            "Pedestrian",
            "Bicycle",
            "Bicycle",
            "Motorcycle",
            "Motorcycle",
            "4-Wheeled",
            "4-Wheeled",
            "Pedestrian",
            "Pedestrian",
            "Bicycle",
            "Bicycle",
            "Motorcycle",
            "Motorcycle",
            "4-Wheeled",
            "4-Wheeled",
            "Pedestrian",
            "Pedestrian",
            "Bicycle",
            "Bicycle",
            "Motorcycle",
            "Motorcycle",
            "4-Wheeled",
            "4-Wheeled",
            "Pedestrian",
            "Pedestrian",
            "Bicycle",
            "Bicycle",
            "Motorcycle",
            "Motorcycle",
            "4-Wheeled",
            "4-Wheeled",
            "Pedestrian",
            "Pedestrian",
            "Bicycle",
            "Bicycle",
            "Motorcycle",
            "Motorcycle",
            "4-Wheeled",
            "4-Wheeled"
         ],
         "gender" : [
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female",
            "Male",
            "Female"
         ]
      },
      "y" : {
         "smps" : [
            "Smp1",
            "Smp2",
            "Smp3",
            "Smp4",
            "Smp5",
            "Smp6",
            "Smp7",
            "Smp8",
            "Smp9",
            "Smp10",
            "Smp11",
            "Smp12",
            "Smp13",
            "Smp14",
            "Smp15",
            "Smp16",
            "Smp17",
            "Smp18",
            "Smp19",
            "Smp20",
            "Smp21",
            "Smp22",
            "Smp23",
            "Smp24",
            "Smp25",
            "Smp26",
            "Smp27",
            "Smp28",
            "Smp29",
            "Smp30",
            "Smp31",
            "Smp32",
            "Smp33",
            "Smp34",
            "Smp35",
            "Smp36",
            "Smp37",
            "Smp38",
            "Smp39",
            "Smp40",
            "Smp41",
            "Smp42",
            "Smp43",
            "Smp44",
            "Smp45",
            "Smp46",
            "Smp47",
            "Smp48",
            "Smp49",
            "Smp50",
            "Smp51",
            "Smp52",
            "Smp53",
            "Smp54",
            "Smp55",
            "Smp56",
            "Smp57",
            "Smp58",
            "Smp59",
            "Smp60",
            "Smp61",
            "Smp62",
            "Smp63",
            "Smp64",
            "Smp65",
            "Smp66",
            "Smp67",
            "Smp68",
            "Smp69",
            "Smp70",
            "Smp71",
            "Smp72",
            "Smp73",
            "Smp74",
            "Smp75",
            "Smp76",
            "Smp77",
            "Smp78",
            "Smp79",
            "Smp80"
         ],
         "vars" : [
            "Freq"
         ],
         "data" : [
            [
               704,
               378,
               396,
               56,
               742,
               78,
               513,
               253,
               5206,
               5449,
               3863,
               1030,
               8597,
               1387,
               7423,
               5552,
               223,
               49,
               146,
               24,
               889,
               98,
               720,
               199,
               3178,
               1814,
               3024,
               1118,
               18909,
               3664,
               15086,
               7712,
               78,
               24,
               55,
               10,
               660,
               82,
               353,
               107,
               1521,
               864,
               1565,
               609,
               18558,
               4010,
               9084,
               4361,
               70,
               28,
               76,
               31,
               362,
               54,
               150,
               61,
               1827,
               1495,
               3407,
               7218,
               12311,
               3587,
               3543,
               2593,
               150,
               89,
               26,
               5,
               6,
               6,
               70,
               65,
               3341,
               1967,
               378,
               126,
               181,
               131,
               1593,
               1362
            ]
         ]
      }
   },
   "config" : {
      "title" : "Traffic Accident Victims in France in 1958",
      "subtitle" : "vcdExtra - Accident",
      "segregateSamplesBy" : [
         "result",
         "mode"
      ],
      "graphType" : "Dotplot",
      "colorBy" : "gender",
      "groupingFactors" : [
         "age"
      ]
   }
}
